/*

In this file:

// A. Variables
// B. Alert Block
// C. Alert Elements

*/

//////////////////////////////////////////////
// A. Variables
//////////////////////////////////////////////

// Scoped to Block

%custom-properties {
    --alert-padding-x: var(--spacer-2);
    --alert-padding-y: var(--spacer-2);

    --alert-title-font-size: inherit;
    --alert-faint-fill-opacity: 0.075;

    --alert-border-radius: 0;
}

//////////////////////////////////////////////
// B. Alert Block
//////////////////////////////////////////////

.alert {
    @extend %custom-properties;
    
    position: relative;
    
    padding: var(--alert-padding-y) var(--alert-padding-x);

    border-radius: var(--alert-border-radius);

    a {
        color: inherit !important;
    }
    
    &:not([class*="theme-"]):not([class*="--inverse"]):not([class*="background-color-"])::before {
        position: absolute;
        content: "";
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;

        border-radius: inherit;
        pointer-events: none;

        background-color: currentColor;
        opacity: var(--alert-faint-fill-opacity);    
    }    

    &[class*="border"] {
        border-color: currentColor !important;
    }

}

//////////////////////////////////////////////
// C. Alert Elements
//////////////////////////////////////////////

.alert__title, 
.alert__description {
    position: relative;
}

.alert__title {
    font-size: var(--alert-title-font-size);
    
    &:not(:last-child) {
        margin-bottom: 0.25em;
    }
}

.alert__title__text {
    font-weight: var(--body-font-weight-bold);
    margin-left: var(--spacer-1);
    margin-right: var(--spacer-1);
}

.alert__description {
    p:not(:last-child) {
        margin-bottom: 0.5em;
    }
}

.alert--dismissable { 
    display: grid;

    > [class*="__title"] {
        grid-area: title;
        margin-top: auto;
        margin-bottom: auto;
    }

    > [class*="button"] {
        grid-area: close;
        font-size: 80%;
    }

    > [class*="__description"] {
        grid-area: description;
    }

    grid-template-columns: 1fr auto;
    
    grid-template-areas:
        "title close"
        "description description";

}

.dismissed {
  animation-duration: 0.5s;
  animation-name: fadeOut;
}

@keyframes fadeOut {
  from {
      opacity: 1;
  }

  to {
    opacity: 0;
  }
}