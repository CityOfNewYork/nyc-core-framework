/*

In this file:

// A. Modules
// B. Gradient Veneer Utility
// C. Gradient Veneer Modifiers

*/


////////////////////////////////////////
// A. Modules
////////////////////////////////////////

@use "sass:map";
@use "../breakpoint/style" as breakpoint;

////////////////////////////////////////
// A. Variables
////////////////////////////////////////

// Scoped to Root

:root {
    --subtle-fill-opacity: 0.075;
}

// Placeholder

%fill-element {
    position: absolute;
    content: "";
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;   
}    

////////////////////////////////////////
// B. Subtle Fill Utility
////////////////////////////////////////

.subtle-fill {
    position: relative;

    &::before {
        @extend %fill-element;

        border-radius: inherit;
        pointer-events: none;

        background-color: currentColor;
        opacity: var(--subtle-fill-opacity);    
    }
}

////////////////////////////////////////
// B. Gradient Veneer Utility
////////////////////////////////////////

[class*="gradient-veneer"] {
    --gradient-direction: to bottom;
    --gradient-start: 50%;
    --gradient-opacity: 1;

    position: relative;

    &::after {
        @extend %fill-element;

        background: linear-gradient( var(--gradient-direction), hsla(0, 0%, 100%, 0) var(--gradient-start), var(--gradient-color) );
        background-clip: border-box;

        opacity: var(--gradient-opacity);
        display: none;
    }

    &[class*="-veneer--top"] {
        --gradient-direction: to top;
    }

    &[class*="-veneer--right"] {
        --gradient-direction: to right;
    }

    &[class*="-veneer--bottom"] {
        --gradient-direction: to bottom;
    }

    &[class*="-veneer--left"] {
        --gradient-direction: to left;
    }
}

////////////////////////////////////////
// C. Gradient Veneer Modifiers
////////////////////////////////////////

.gradient-veneer-top {
    --gradient-direction: to top;
}

.gradient-veneer-right {
    --gradient-direction: to right;
}

.gradient-veneer-bottom {
    --gradient-direction: to bottom;
}

.gradient-veneer-left {
    --gradient-direction: to left;
}

@each $breakpoint in map.keys(breakpoint.$breakpoints) {
    @include breakpoint.breakpoints-up($breakpoint) {
        $mod: breakpoint.breakpoint-modifier($breakpoint, breakpoint.$breakpoints);

        .gradient-veneer-top#{$mod},
        .gradient-veneer-right#{$mod},
        .gradient-veneer-bottom#{$mod},
        .gradient-veneer-left#{$mod} {
            &::after{
                display: block !important;
            }
        }
        
    }
}